<!DOCTYPE html>

<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×”×•×¤×š ×¡×¨×˜×•× ×™× ×œ××¦×—×™×§×™× ğŸ˜‚</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        min-height: 100vh;
        padding: 20px;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
    }

    h1 {
        text-align: center;
        color: white;
        font-size: 3em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .subtitle {
        text-align: center;
        color: white;
        font-size: 1.3em;
        margin-bottom: 30px;
    }

    .main-content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 20px;
    }

    @media (max-width: 768px) {
        .main-content {
            grid-template-columns: 1fr;
        }
    }

    .card {
        background: white;
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    .upload-section {
        text-align: center;
    }

    .upload-zone {
        border: 3px dashed #f5576c;
        border-radius: 15px;
        padding: 40px;
        margin-bottom: 20px;
        cursor: pointer;
        transition: all 0.3s;
        background: #fff5f7;
    }

    .upload-zone:hover {
        background: #ffe0e6;
        border-color: #e03e52;
    }

    .upload-zone.dragover {
        background: #ffd0d9;
        transform: scale(1.02);
    }

    .upload-icon {
        font-size: 4em;
        margin-bottom: 10px;
    }

    input[type="file"] {
        display: none;
    }

    .video-preview {
        width: 100%;
        max-height: 300px;
        border-radius: 10px;
        margin-top: 20px;
        display: none;
    }

    .effects-section h2 {
        color: #f5576c;
        margin-bottom: 20px;
        font-size: 1.8em;
    }

    .effect-group {
        margin-bottom: 25px;
    }

    .effect-group h3 {
        color: #333;
        margin-bottom: 10px;
        font-size: 1.2em;
    }

    .effect-options {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }

    .effect-btn {
        padding: 10px 20px;
        border: 2px solid #ddd;
        background: white;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 1em;
        font-weight: bold;
    }

    .effect-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .effect-btn.active {
        background: #f5576c;
        color: white;
        border-color: #f5576c;
    }

    .slider-group {
        margin-bottom: 15px;
    }

    .slider-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        color: #555;
    }

    input[type="range"] {
        width: 100%;
        height: 8px;
        border-radius: 5px;
        background: #ddd;
        outline: none;
        -webkit-appearance: none;
    }

    input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #f5576c;
        cursor: pointer;
    }

    input[type="range"]::-moz-range-thumb {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #f5576c;
        cursor: pointer;
    }

    .slider-value {
        display: inline-block;
        margin-right: 10px;
        color: #f5576c;
        font-weight: bold;
    }

    .action-buttons {
        display: flex;
        gap: 10px;
        margin-top: 20px;
    }

    .btn {
        flex: 1;
        padding: 15px;
        font-size: 1.1em;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.3s;
    }

    .btn-primary {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(245, 87, 108, 0.4);
    }

    .btn-secondary {
        background: #6c757d;
        color: white;
    }

    .btn-secondary:hover {
        background: #5a6268;
    }

    .btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    .preview-section {
        position: relative;
    }

    #outputVideo {
        width: 100%;
        border-radius: 10px;
        display: none;
    }

    .canvas-container {
        position: relative;
        width: 100%;
        display: none;
    }

    #canvas {
        width: 100%;
        border-radius: 10px;
        background: #000;
    }

    .processing {
        text-align: center;
        padding: 40px;
        display: none;
    }

    .processing.show {
        display: block;
    }

    .spinner {
        border: 5px solid #f3f3f3;
        border-top: 5px solid #f5576c;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        animation: spin 1s linear infinite;
        margin: 0 auto 20px;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .download-section {
        display: none;
        text-align: center;
        padding: 20px;
        background: #d4edda;
        border-radius: 10px;
        margin-top: 20px;
    }

    .download-section.show {
        display: block;
    }

    .emoji-overlay {
        position: absolute;
        font-size: 3em;
        pointer-events: none;
        animation: float 3s ease-in-out;
    }

    @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); opacity: 1; }
        50% { transform: translateY(-50px) rotate(180deg); opacity: 0.7; }
    }

    .info-box {
        background: #fff3cd;
        border: 2px solid #ffc107;
        border-radius: 10px;
        padding: 15px;
        margin-bottom: 20px;
    }

    .info-box h4 {
        color: #856404;
        margin-bottom: 5px;
    }

    .info-box p {
        color: #856404;
        font-size: 0.9em;
    }
</style>
```

</head>
<body>
    <div class="container">
        <h1>ğŸ¬ ×”×•×¤×š ×¡×¨×˜×•× ×™× ×œ××¦×—×™×§×™× ğŸ˜‚</h1>
        <p class="subtitle">×”×¢×œ×” ×¡×¨×˜×•×Ÿ ×•×”×¤×•×š ××•×ª×• ×œ××©×”×• ××’×•×—×š!</p>

```
    <div class="main-content">
        <!-- Upload Section -->
        <div class="card upload-section">
            <h2 style="color: #f5576c; margin-bottom: 20px;">ğŸ“¤ ×”×¢×œ×” ×¡×¨×˜×•×Ÿ</h2>
            
            <div class="upload-zone" id="uploadZone">
                <div class="upload-icon">ğŸ¥</div>
                <h3>×’×¨×•×¨ ×¡×¨×˜×•×Ÿ ×œ×›××Ÿ</h3>
                <p>××• ×œ×—×¥ ×œ×‘×—×™×¨×ª ×§×•×‘×¥</p>
                <p style="color: #999; font-size: 0.9em; margin-top: 10px;">×ª×•××š ×‘-MP4, MOV, AVI</p>
            </div>
            <input type="file" id="fileInput" accept="video/*">
            
            <video id="inputVideo" class="video-preview" controls></video>
            
            <div class="action-buttons" style="display: none;" id="actionButtons">
                <button class="btn btn-primary" id="processBtn" disabled>
                    âœ¨ ×”×¤×•×š ×œ××¦×—×™×§!
                </button>
                <button class="btn btn-secondary" id="resetBtn">
                    ğŸ”„ ×¡×¨×˜×•×Ÿ ×—×“×©
                </button>
            </div>
        </div>

        <!-- Effects Section -->
        <div class="card effects-section">
            <h2>ğŸ¨ ××¤×§×˜×™× ××’×•×—×›×™×</h2>
            
            <div class="info-box">
                <h4>ğŸ’¡ ×˜×™×¤</h4>
                <p>×‘×—×¨ ×›××” ××¤×§×˜×™× ×©×ª×¨×¦×” ×•×”×ª×× ××ª ×”×¢×•×¦××” ×©×œ×”×!</p>
            </div>

            <div class="effect-group">
                <h3>ğŸ­ ××¤×§×˜×™× ×•×™×–×•××œ×™×™×</h3>
                <div class="effect-options">
                    <button class="effect-btn" data-effect="zoom">ğŸ” ×–×•× ××˜×•×¨×£</button>
                    <button class="effect-btn" data-effect="shake">ğŸ“³ ×¨×¢×™×“×•×ª</button>
                    <button class="effect-btn" data-effect="rainbow">ğŸŒˆ ×¦×‘×¢×™×</button>
                    <button class="effect-btn" data-effect="mirror">ğŸª ××¨××”</button>
                    <button class="effect-btn" data-effect="pixelate">ğŸ® ×¤×™×§×¡×œ×™×</button>
                    <button class="effect-btn" data-effect="spin">ğŸŒ€ ×¡×—×¨×•×¨</button>
                    <button class="effect-btn" data-effect="glitch">âš¡ ×’×œ×™×¥'</button>
                    <button class="effect-btn" data-effect="fisheye">ğŸŸ ×¢×™×Ÿ ×“×’</button>
                    <button class="effect-btn" data-effect="warp">ğŸŒŠ ×¢×™×•×•×ª ×’×œ×™</button>
                </div>
            </div>

            <div class="effect-group">
                <h3>ğŸ’¥ ×ª×•×¡×¤×•×ª</h3>
                <div class="effect-options">
                    <button class="effect-btn" data-effect="emojis">ğŸ˜‚ ××™××•×’'×™× ××¢×•×¤×¤×™×</button>
                    <button class="effect-btn" data-effect="explosions">ğŸ’¥ ×¤×™×¦×•×¦×™×</button>
                    <button class="effect-btn" data-effect="stars">â­ ×›×•×›×‘×™×</button>
                    <button class="effect-btn" data-effect="text">ğŸ“ ×˜×§×¡×˜ ××¦×—×™×§</button>
                    <button class="effect-btn" data-effect="memes">ğŸ¤¡ ××™××– ××¢×•×¤×¤×™×</button>
                    <button class="effect-btn" data-effect="lasers">ğŸ”´ ×œ×™×™×–×¨×™×</button>
                    <button class="effect-btn" data-effect="money">ğŸ’° ×›×¡×£ ××¢×•×¤×£</button>
                </div>
            </div>

            <div class="effect-group">
                <h3>ğŸµ ××¤×§×˜×™ ×§×•×œ (×¡×™××•×œ×¦×™×”)</h3>
                <div class="effect-options">
                    <button class="effect-btn" data-effect="speed">âš¡ ××”×™×¨×•×ª ××©×•× ×”</button>
                    <button class="effect-btn" data-effect="reverse">â®ï¸ ×”×¤×•×š</button>
                </div>
            </div>

            <div class="effect-group">
                <h3>ğŸª ××¤×§×˜×™× ××•×–×¨×™× ×‘××™×•×—×“</h3>
                <div class="effect-options">
                    <button class="effect-btn" data-effect="eyes">ğŸ‘€ ×¢×™× ×™×™× ×¢×•×§×‘×•×ª</button>
                    <button class="effect-btn" data-effect="oldfilm">ğŸ“½ï¸ ×¡×¨×˜ ×™×©×Ÿ</button>
                    <button class="effect-btn" data-effect="matrix">ğŸŸ¢ ××˜×¨×™×§×¡</button>
                    <button class="effect-btn" data-effect="disco">ğŸ•º ×“×™×¡×§×•</button>
                    <button class="effect-btn" data-effect="alien">ğŸ‘½ ×—×™×™×–×¨×™×</button>
                    <button class="effect-btn" data-effect="bruh">ğŸ—£ï¸ BRUH</button>
                    <button class="effect-btn" data-effect="mlg">ğŸ˜ MLG</button>
                </div>
            </div>

            <div class="slider-group">
                <label>
                    <span class="slider-value" id="intensityValue">50%</span>
                    ×¢×•×¦××ª ×”××¤×§×˜×™×
                </label>
                <input type="range" id="intensitySlider" min="0" max="100" value="50">
            </div>

            <div class="slider-group">
                <label>
                    <span class="slider-value" id="speedValue">1x</span>
                    ××”×™×¨×•×ª ×”×¡×¨×˜×•×Ÿ
                </label>
                <input type="range" id="speedSlider" min="50" max="300" value="100" step="10">
            </div>
        </div>
    </div>

    <!-- Processing/Preview Section -->
    <div class="card">
        <h2 style="color: #f5576c; margin-bottom: 20px;">ğŸ¬ ×ª×•×¦××”</h2>
        
        <div class="processing" id="processing">
            <div class="spinner"></div>
            <h3>××¢×‘×“ ××ª ×”×¡×¨×˜×•×Ÿ ×©×œ×š...</h3>
            <p>××•×¡×™×£ ××¤×§×˜×™× ××’×•×—×›×™×! ğŸ˜„</p>
        </div>

        <div class="canvas-container" id="canvasContainer">
            <canvas id="canvas"></canvas>
        </div>

        <div class="download-section" id="downloadSection">
            <h3 style="color: #155724; margin-bottom: 10px;">âœ… ×”×¡×¨×˜×•×Ÿ ××•×›×Ÿ!</h3>
            <p style="margin-bottom: 15px;">×”×¡×¨×˜×•×Ÿ ×©×œ×š ×¢×›×©×™×• ×™×•×ª×¨ ××¦×—×™×§! ğŸ‰</p>
            <button class="btn btn-primary" id="downloadBtn">
                â¬‡ï¸ ×”×•×¨×“ ×¡×¨×˜×•×Ÿ
            </button>
        </div>
    </div>
</div>

<script>
    const uploadZone = document.getElementById('uploadZone');
    const fileInput = document.getElementById('fileInput');
    const inputVideo = document.getElementById('inputVideo');
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const processBtn = document.getElementById('processBtn');
    const resetBtn = document.getElementById('resetBtn');
    const actionButtons = document.getElementById('actionButtons');
    const processing = document.getElementById('processing');
    const canvasContainer = document.getElementById('canvasContainer');
    const downloadSection = document.getElementById('downloadSection');
    const intensitySlider = document.getElementById('intensitySlider');
    const speedSlider = document.getElementById('speedSlider');

    let selectedEffects = new Set();
    let videoFile = null;
    let isProcessing = false;
    let animationId = null;

    // Upload handlers
    uploadZone.addEventListener('click', () => fileInput.click());
    
    uploadZone.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadZone.classList.add('dragover');
    });

    uploadZone.addEventListener('dragleave', () => {
        uploadZone.classList.remove('dragover');
    });

    uploadZone.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadZone.classList.remove('dragover');
        const file = e.dataTransfer.files[0];
        if (file && file.type.startsWith('video/')) {
            handleVideoUpload(file);
        }
    });

    fileInput.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) {
            handleVideoUpload(file);
        }
    });

    function handleVideoUpload(file) {
        videoFile = file;
        const url = URL.createObjectURL(file);
        inputVideo.src = url;
        inputVideo.style.display = 'block';
        actionButtons.style.display = 'flex';
        processBtn.disabled = false;
    }

    // Effect buttons
    document.querySelectorAll('.effect-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const effect = btn.dataset.effect;
            if (selectedEffects.has(effect)) {
                selectedEffects.delete(effect);
                btn.classList.remove('active');
            } else {
                selectedEffects.add(effect);
                btn.classList.add('active');
            }
        });
    });

    // Sliders
    intensitySlider.addEventListener('input', (e) => {
        document.getElementById('intensityValue').textContent = e.target.value + '%';
    });

    speedSlider.addEventListener('input', (e) => {
        const speed = e.target.value / 100;
        document.getElementById('speedValue').textContent = speed.toFixed(1) + 'x';
    });

    // Process video
    processBtn.addEventListener('click', () => {
        if (!videoFile) return;
        
        processing.classList.add('show');
        canvasContainer.style.display = 'none';
        downloadSection.classList.remove('show');

        // Simulate processing
        setTimeout(() => {
            processing.classList.remove('show');
            startVideoProcessing();
        }, 2000);
    });

    function startVideoProcessing() {
        canvas.width = inputVideo.videoWidth || 640;
        canvas.height = inputVideo.videoHeight || 480;
        canvasContainer.style.display = 'block';
        
        inputVideo.currentTime = 0;
        inputVideo.play();
        
        const speed = speedSlider.value / 100;
        inputVideo.playbackRate = speed;
        
        renderFrame();
    }

    let frameCount = 0;
    let particles = [];
    let eyes = [];
    let matrixChars = [];
    
    function renderFrame() {
        if (inputVideo.paused || inputVideo.ended) {
            downloadSection.classList.add('show');
            return;
        }

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        const intensity = intensitySlider.value / 100;
        
        // Apply effects
        ctx.save();
        
        if (selectedEffects.has('zoom')) {
            const scale = 1 + Math.sin(frameCount * 0.1) * 0.3 * intensity;
            ctx.translate(canvas.width / 2, canvas.height / 2);
            ctx.scale(scale, scale);
            ctx.translate(-canvas.width / 2, -canvas.height / 2);
        }
        
        if (selectedEffects.has('shake')) {
            const shakeX = (Math.random() - 0.5) * 20 * intensity;
            const shakeY = (Math.random() - 0.5) * 20 * intensity;
            ctx.translate(shakeX, shakeY);
        }
        
        if (selectedEffects.has('mirror')) {
            ctx.translate(canvas.width, 0);
            ctx.scale(-1, 1);
        }
        
        if (selectedEffects.has('spin')) {
            ctx.translate(canvas.width / 2, canvas.height / 2);
            ctx.rotate((frameCount * 0.02 * intensity));
            ctx.translate(-canvas.width / 2, -canvas.height / 2);
        }
        
        if (selectedEffects.has('fisheye')) {
            // Draw to temp canvas for fisheye effect
            const tempCanvas = document.createElement('canvas');
            const tempCtx = tempCanvas.getContext('2d');
            tempCanvas.width = canvas.width;
            tempCanvas.height = canvas.height;
            tempCtx.drawImage(inputVideo, 0, 0, canvas.width, canvas.height);
            
            const imageData = tempCtx.getImageData(0, 0, canvas.width, canvas.height);
            const pixels = imageData.data;
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            
            ctx.drawImage(inputVideo, 0, 0, canvas.width, canvas.height);
        } else {
            ctx.drawImage(inputVideo, 0, 0, canvas.width, canvas.height);
        }
        
        if (selectedEffects.has('warp')) {
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const tempCanvas = document.createElement('canvas');
            const tempCtx = tempCanvas.getContext('2d');
            tempCanvas.width = canvas.width;
            tempCanvas.height = canvas.height;
            tempCtx.putImageData(imageData, 0, 0);
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let y = 0; y < canvas.height; y++) {
                const offset = Math.sin((y + frameCount) * 0.05) * 10 * intensity;
                ctx.drawImage(tempCanvas, 0, y, canvas.width, 1, offset, y, canvas.width, 1);
            }
        }
        
        if (selectedEffects.has('rainbow')) {
            ctx.globalCompositeOperation = 'overlay';
            const hue = (frameCount * 5) % 360;
            ctx.fillStyle = `hsla(${hue}, 100%, 50%, ${0.3 * intensity})`;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.globalCompositeOperation = 'source-over';
        }
        
        if (selectedEffects.has('glitch')) {
            if (Math.random() < 0.1 * intensity) {
                const sliceHeight = 20;
                const y = Math.random() * canvas.height;
                const offset = (Math.random() - 0.5) * 50 * intensity;
                const imageData = ctx.getImageData(0, y, canvas.width, sliceHeight);
                ctx.putImageData(imageData, offset, y);
            }
        }
        
        if (selectedEffects.has('pixelate')) {
            const pixelSize = Math.floor(10 * intensity);
            if (pixelSize > 1) {
                const tempCanvas = document.createElement('canvas');
                const tempCtx = tempCanvas.getContext('2d');
                tempCanvas.width = canvas.width / pixelSize;
                tempCanvas.height = canvas.height / pixelSize;
                tempCtx.drawImage(canvas, 0, 0, tempCanvas.width, tempCanvas.height);
                ctx.imageSmoothingEnabled = false;
                ctx.drawImage(tempCanvas, 0, 0, canvas.width, canvas.height);
                ctx.imageSmoothingEnabled = true;
            }
        }
        
        ctx.restore();
        
        // Disco effect
        if (selectedEffects.has('disco')) {
            ctx.globalCompositeOperation = 'lighter';
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
            for (let i = 0; i < 5; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const gradient = ctx.createRadialGradient(x, y, 0, x, y, 100 * intensity);
                gradient.addColorStop(0, colors[Math.floor(Math.random() * colors.length)] + '88');
                gradient.addColorStop(1, 'transparent');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            ctx.globalCompositeOperation = 'source-over';
        }
        
        // Old film effect
        if (selectedEffects.has('oldfilm')) {
            ctx.fillStyle = `rgba(0, 0, 0, ${0.1 * intensity})`;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Add scratches
            for (let i = 0; i < 5 * intensity; i++) {
                ctx.strokeStyle = `rgba(255, 255, 255, ${Math.random() * 0.3})`;
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(Math.random() * canvas.width, 0);
                ctx.lineTo(Math.random() * canvas.width, canvas.height);
                ctx.stroke();
            }
            
            // Add grain
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const pixels = imageData.data;
            for (let i = 0; i < pixels.length; i += 4) {
                const noise = (Math.random() - 0.5) * 50 * intensity;
                pixels[i] += noise;
                pixels[i + 1] += noise;
                pixels[i + 2] += noise;
            }
            ctx.putImageData(imageData, 0, 0);
        }
        
        // Matrix effect
        if (selectedEffects.has('matrix')) {
            if (matrixChars.length === 0) {
                for (let i = 0; i < 50; i++) {
                    matrixChars.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        speed: Math.random() * 5 + 2
                    });
                }
            }
            
            ctx.fillStyle = 'rgba(0, 255, 0, 0.8)';
            ctx.font = '20px monospace';
            matrixChars.forEach(char => {
                const chars = '01ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³';
                ctx.fillText(chars[Math.floor(Math.random() * chars.length)], char.x, char.y);
                char.y += char.speed * intensity;
                if (char.y > canvas.height) {
                    char.y = 0;
                    char.x = Math.random() * canvas.width;
                }
            });
        }
        
        // Add overlays
        if (selectedEffects.has('emojis') && frameCount % 10 === 0) {
            const emojis = ['ğŸ˜‚', 'ğŸ¤£', 'ğŸ˜†', 'ğŸ˜', 'ğŸ¤ª', 'ğŸ˜œ', 'ğŸ’€', 'ğŸ”¥'];
            const emoji = emojis[Math.floor(Math.random() * emojis.length)];
            ctx.font = `${40 * intensity}px Arial`;
            ctx.fillText(emoji, Math.random() * canvas.width, Math.random() * canvas.height);
        }
        
        if (selectedEffects.has('explosions') && frameCount % 20 === 0) {
            ctx.font = `${60 * intensity}px Arial`;
            ctx.fillText('ğŸ’¥', Math.random() * canvas.width, Math.random() * canvas.height);
        }
        
        if (selectedEffects.has('stars') && frameCount % 5 === 0) {
            ctx.font = `${30 * intensity}px Arial`;
            ctx.fillText('â­', Math.random() * canvas.width, Math.random() * canvas.height);
        }
        
        if (selectedEffects.has('memes')) {
            if (frameCount % 15 === 0) {
                const memes = ['ğŸ¤¡', 'ğŸ’©', 'ğŸ•', 'ğŸ¦„', 'ğŸ”¥', 'ğŸ‘»', 'ğŸ¤–'];
                particles.push({
                    x: Math.random() * canvas.width,
                    y: canvas.height,
                    emoji: memes[Math.floor(Math.random() * memes.length)],
                    vy: -2 - Math.random() * 3,
                    vx: (Math.random() - 0.5) * 2,
                    rotation: Math.random() * Math.PI * 2,
                    rotSpeed: (Math.random() - 0.5) * 0.2
                });
            }
            
            particles = particles.filter(p => p.y > -50);
            particles.forEach(p => {
                ctx.save();
                ctx.translate(p.x, p.y);
                ctx.rotate(p.rotation);
                ctx.font = `${40 * intensity}px Arial`;
                ctx.fillText(p.emoji, 0, 0);
                ctx.restore();
                p.y += p.vy;
                p.x += p.vx;
                p.rotation += p.rotSpeed;
            });
        }
        
        if (selectedEffects.has('lasers')) {
            for (let i = 0; i < 3 * intensity; i++) {
                ctx.strokeStyle = `rgba(255, 0, 0, ${Math.random() * 0.8})`;
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(Math.random() * canvas.width, Math.random() * canvas.height);
                ctx.lineTo(Math.random() * canvas.width, Math.random() * canvas.height);
                ctx.stroke();
            }
        }
        
        if (selectedEffects.has('money') && frameCount % 8 === 0) {
            const money = ['ğŸ’µ', 'ğŸ’´', 'ğŸ’¶', 'ğŸ’·', 'ğŸ’°', 'ğŸ¤‘'];
            ctx.font = `${35 * intensity}px Arial`;
            ctx.fillText(money[Math.floor(Math.random() * money.length)], 
                       Math.random() * canvas.width, Math.random() * canvas.height);
        }
        
        if (selectedEffects.has('alien') && frameCount % 30 === 0) {
            ctx.font = `${50 * intensity}px Arial`;
            const aliens = ['ğŸ‘½', 'ğŸ›¸', 'ğŸŒŒ'];
            ctx.fillText(aliens[Math.floor(Math.random() * aliens.length)], 
                       Math.random() * canvas.width, Math.random() * canvas.height);
        }
        
        if (selectedEffects.has('eyes')) {
            if (eyes.length === 0) {
                for (let i = 0; i < 10; i++) {
                    eyes.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        size: 20 + Math.random() * 30
                    });
                }
            }
            
            eyes.forEach(eye => {
                ctx.save();
                ctx.translate(eye.x, eye.y);
                const angle = Math.atan2(canvas.height/2 - eye.y, canvas.width/2 - eye.x);
                ctx.rotate(angle);
                ctx.font = `${eye.size * intensity}px Arial`;
                ctx.fillText('ğŸ‘ï¸', 0, 0);
                ctx.restore();
            });
        }
        
        if (selectedEffects.has('bruh')) {
            ctx.font = `bold ${60 * intensity}px Impact`;
            ctx.fillStyle = 'white';
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 3;
            const bruhTexts = ['BRUH', 'NO WAY', 'WHAT', 'OMG', 'BRO'];
            const text = bruhTexts[Math.floor(frameCount / 40) % bruhTexts.length];
            const x = canvas.width / 2 - ctx.measureText(text).width / 2;
            ctx.strokeText(text, x, 60);
            ctx.fillText(text, x, 60);
        }
        
        if (selectedEffects.has('mlg')) {
            // MLG style effects
            if (frameCount % 20 === 0) {
                ctx.font = `bold ${40 * intensity}px Impact`;
                ctx.fillStyle = ['#00ff00', '#ff0000', '#0000ff', '#ffff00'][Math.floor(Math.random() * 4)];
                ctx.strokeStyle = 'black';
                ctx.lineWidth = 2;
                const mlgTexts = ['360 NO SCOPE', 'MLG PRO', 'WOMBO COMBO', 'OH BABY A TRIPLE'];
                const text = mlgTexts[Math.floor(Math.random() * mlgTexts.length)];
                const x = Math.random() * (canvas.width - 200);
                const y = Math.random() * (canvas.height - 100) + 50;
                ctx.strokeText(text, x, y);
                ctx.fillText(text, x, y);
            }
            
            // Add lens flares
            ctx.globalCompositeOperation = 'lighter';
            for (let i = 0; i < 3; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const gradient = ctx.createRadialGradient(x, y, 0, x, y, 50);
                gradient.addColorStop(0, 'rgba(255, 255, 255, 0.8)');
                gradient.addColorStop(1, 'transparent');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            ctx.globalCompositeOperation = 'source-over';
        }
        
        if (selectedEffects.has('text')) {
            const texts = ['LOL', 'OMG', 'WOW', 'HAHA', 'ğŸ˜‚ğŸ˜‚ğŸ˜‚', 'EPIC'];
            ctx.font = 'bold 40px Arial';
            ctx.fillStyle = 'yellow';
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 3;
            const text = texts[Math.floor(frameCount / 30) % texts.length];
            ctx.strokeText(text, 20, 50);
            ctx.fillText(text, 20, 50);
        }
        
        frameCount++;
        animationId = requestAnimationFrame(renderFrame);
    }

    resetBtn.addEventListener('click', () => {
        particles = [];
        eyes = [];
        matrixChars = [];
        location.reload();
    });

    downloadBtn.addEventListener('click', () => {
        const link = document.createElement('a');
        link.download = 'funny-video.png';
        link.href = canvas.toDataURL();
        link.click();
        alert('×”×¡×¨×˜×•×Ÿ ×”×•×©×œ×! ğŸ‰\n×©×™× ×œ×‘: ×–×•×”×™ ×“××• - ×‘×’×¨×¡×” ××œ××” × ×™×ª×Ÿ ×œ×”×•×¨×™×“ ××ª ×›×œ ×”×¡×¨×˜×•×Ÿ.');
    });
</script>
```

</body>
</html>
